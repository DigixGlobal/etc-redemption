{"version":3,"file":"webcrypto-core.js","sources":["../src/error.ts","../src/base.ts","../src/alg.ts","../src/base64url.ts","../src/aes/crypto.ts","../src/sha/crypto.ts","../src/ec/crypto.ts","../src/hmac/crypto.ts","../src/pbkdf2/crypto.ts","../src/rsa/crypto.ts","../src/subtle.ts"],"sourcesContent":["function printf(text: string, ...args: any[]) {\n    let msg: string = text;\n    const regFind = /[^%](%\\d+)/g;\n    let match: RegExpExecArray | null;\n    const matches: Array<{ arg: string, index: number }> = [];\n    // tslint:disable-next-line:no-conditional-assignment\n    while (match = regFind.exec(msg)) {\n        matches.push({ arg: match[1], index: match.index });\n    }\n\n    // replace matches\n    for (let i = matches.length - 1; i >= 0; i--) {\n        const item = matches[i];\n        const arg = item.arg.substring(1);\n        const index = item.index + 1;\n        msg = msg.substring(0, index) + arguments[+arg] + msg.substring(index + 1 + arg.length);\n    }\n\n    // convert %% -> %\n    msg = msg.replace(\"%%\", \"%\");\n\n    return msg;\n}\n\nexport class WebCryptoError extends Error {\n\n    public static NOT_SUPPORTED = \"Method is not supported\";\n\n    public code = 0;\n    public stack: string;\n\n    constructor(template: string, ...args: any[]) {\n        super();\n        this.message = printf(template, ...args as any);\n        const error = new Error(this.message);\n        error.name = (this as any).constructor.name;\n        this.stack = (error as any).stack;\n    }\n\n}\n\nexport class AlgorithmError extends WebCryptoError {\n\n    public static PARAM_REQUIRED = \"Algorithm hasn't got required paramter '%1'\";\n    public static PARAM_WRONG_TYPE = \"Algorithm has got wrong type for paramter '%1'. Must be %2\";\n    public static PARAM_WRONG_VALUE = \"Algorithm has got wrong value for paramter '%1'. Must be %2\";\n    public static WRONG_ALG_NAME = \"Algorithm has got wrong name '%1'. Must be '%2'\";\n    public static UNSUPPORTED_ALGORITHM = \"Algorithm '%1' is not supported\";\n    public static WRONG_USAGE = \"Algorithm doesn't support key usage '%1'\";\n\n    public code = 1;\n}\n\nexport class CryptoKeyError extends WebCryptoError {\n    public static EMPTY_KEY = \"CryptoKey is empty\";\n    public static WRONG_KEY_ALG = \"CryptoKey has wrong algorithm '%1'. Must be '%2'\";\n    public static WRONG_KEY_TYPE = \"CryptoKey has wrong type '%1'. Must be '%2'\";\n    public static WRONG_KEY_USAGE = \"CryptoKey has wrong key usage. Must be '%1'\";\n    public static NOT_EXTRACTABLE = \"CryptoKey is not extractable\";\n    public static WRONG_FORMAT = \"CryptoKey has '%1' type. It can be used with '%2' format\";\n    public static UNKNOWN_FORMAT = `Unknown format in use '%1'. Must be one of 'raw', 'pkcs8', 'spki'  or 'jwk'`;\n    public static ALLOWED_FORMAT = `Wrong format value '%1'. Must be %2`;\n\n    public code = 3;\n}\n","import { AlgorithmError, CryptoKeyError, WebCryptoError } from \"./error\";\n\nexport function PrepareAlgorithm(alg: AlgorithmIdentifier | string): Algorithm {\n    let res: Algorithm;\n    if (typeof alg === \"string\") {\n        res = { name: alg };\n    } else {\n        res = alg;\n    }\n    BaseCrypto.checkAlgorithm(res);\n    const hashedAlg: RsaHashedKeyAlgorithm = alg as any;\n    if (hashedAlg.hash) {\n        hashedAlg.hash = PrepareAlgorithm(hashedAlg.hash);\n    }\n    return res;\n}\n\nexport function PrepareData(data: BufferSource, paramName: string): Uint8Array {\n    if (!data) {\n        throw new WebCryptoError(`Parameter '${paramName}' is required and cant be empty`);\n    }\n    if (typeof Buffer !== \"undefined\" && Buffer.isBuffer(data)) {\n        return new Uint8Array(data as Buffer);\n    }\n    if (ArrayBuffer.isView(data)) {\n        // Copy data, because `data.buffer` can has another buffer size after ArrayBufferView.subarray\n        const copy = (data as Uint8Array).map((i) => i);\n        return new Uint8Array(copy.buffer);\n    }\n    if (data instanceof ArrayBuffer) {\n        return new Uint8Array(data);\n    }\n    throw new WebCryptoError(`Incoming parameter '${paramName}' has wrong data type. Must be ArrayBufferView or ArrayBuffer`);\n}\n\nexport class BaseCrypto {\n\n    public static checkAlgorithm(alg: Algorithm) {\n        if (typeof alg !== \"object\") {\n            throw new TypeError(\"Wrong algorithm data type. Must be Object\");\n        }\n        if (!alg.name) {\n            throw new AlgorithmError(AlgorithmError.PARAM_REQUIRED, \"name\");\n        }\n    }\n\n    public static checkAlgorithmParams(alg: Algorithm) {\n        this.checkAlgorithm(alg);\n    }\n\n    public static checkKey(key: CryptoKey, alg?: string, type: string | null = null, usage: string | null = null) {\n        // check key empty\n        if (!key) {\n            throw new CryptoKeyError(CryptoKeyError.EMPTY_KEY);\n        }\n        // check alg\n        const keyAlg = key.algorithm;\n        this.checkAlgorithm(keyAlg as Algorithm);\n        if (alg && (keyAlg.name!.toUpperCase() !== alg.toUpperCase())) {\n            throw new CryptoKeyError(CryptoKeyError.WRONG_KEY_ALG, keyAlg.name, alg);\n        }\n        // check type\n        if (type && (!key.type || key.type.toUpperCase() !== type.toUpperCase())) {\n            throw new CryptoKeyError(CryptoKeyError.WRONG_KEY_TYPE, key.type, type);\n        }\n        // check usage\n        if (usage) {\n            if (!key.usages.some((keyUsage) => usage.toUpperCase() === keyUsage.toUpperCase())) {\n                throw new CryptoKeyError(CryptoKeyError.WRONG_KEY_USAGE, usage);\n            }\n        }\n    }\n\n    public static checkWrappedKey(key: CryptoKey) {\n        if (!key.extractable) {\n            throw new CryptoKeyError(CryptoKeyError.NOT_EXTRACTABLE);\n        }\n    }\n\n    public static checkKeyUsages(keyUsages: string[]) {\n        if (!keyUsages || !keyUsages.length) {\n            throw new WebCryptoError(\"Parameter 'keyUsages' cannot be empty.\");\n        }\n    }\n\n    public static checkFormat(format: string, type?: string) {\n        switch (format.toLowerCase()) {\n            case \"raw\":\n                if (type && type.toLowerCase() !== \"secret\" && type && type.toLowerCase() !== \"public\") {\n                    throw new CryptoKeyError(CryptoKeyError.WRONG_FORMAT, type, \"raw\");\n                }\n                break;\n            case \"pkcs8\":\n                if (type && type.toLowerCase() !== \"private\") {\n                    throw new CryptoKeyError(CryptoKeyError.WRONG_FORMAT, type, \"pkcs8\");\n                }\n                break;\n            case \"spki\":\n                if (type && type.toLowerCase() !== \"public\") {\n                    throw new CryptoKeyError(CryptoKeyError.WRONG_FORMAT, type, \"spki\");\n                }\n                break;\n            case \"jwk\":\n                break;\n            default:\n                throw new CryptoKeyError(CryptoKeyError.UNKNOWN_FORMAT, format);\n        }\n    }\n\n    public static generateKey(algorithm: Algorithm, extractable: boolean, keyUsages: string[]): PromiseLike<CryptoKey | CryptoKeyPair> {\n        return new Promise((resolve, reject) => {\n            throw new WebCryptoError(WebCryptoError.NOT_SUPPORTED);\n        });\n    }\n\n    public static digest(algorithm: Algorithm, data: Uint8Array): PromiseLike<ArrayBuffer> {\n        return new Promise((resolve, reject) => {\n            throw new WebCryptoError(WebCryptoError.NOT_SUPPORTED);\n        });\n    }\n\n    public static sign(algorithm: Algorithm, key: CryptoKey, data: Uint8Array): PromiseLike<ArrayBuffer> {\n        return new Promise((resolve, reject) => {\n            throw new WebCryptoError(WebCryptoError.NOT_SUPPORTED);\n        });\n    }\n\n    public static verify(algorithm: Algorithm, key: CryptoKey, signature: Uint8Array, data: Uint8Array): PromiseLike<boolean> {\n        return new Promise((resolve, reject) => {\n            throw new WebCryptoError(WebCryptoError.NOT_SUPPORTED);\n        });\n    }\n\n    public static encrypt(algorithm: Algorithm, key: CryptoKey, data: Uint8Array): PromiseLike<ArrayBuffer> {\n        return new Promise((resolve, reject) => {\n            throw new WebCryptoError(WebCryptoError.NOT_SUPPORTED);\n        });\n    }\n\n    public static decrypt(algorithm: Algorithm, key: CryptoKey, data: Uint8Array): PromiseLike<ArrayBuffer> {\n        return new Promise((resolve, reject) => {\n            throw new WebCryptoError(WebCryptoError.NOT_SUPPORTED);\n        });\n    }\n\n    public static deriveBits(algorithm: Algorithm, baseKey: CryptoKey, length: number): PromiseLike<ArrayBuffer> {\n        return new Promise((resolve, reject) => {\n            throw new WebCryptoError(WebCryptoError.NOT_SUPPORTED);\n        });\n    }\n\n    public static deriveKey(algorithm: Algorithm, baseKey: CryptoKey, derivedKeyType: Algorithm, extractable: boolean, keyUsages: string[]): PromiseLike<CryptoKey> {\n        return new Promise((resolve, reject) => {\n            throw new WebCryptoError(WebCryptoError.NOT_SUPPORTED);\n        });\n    }\n\n    public static exportKey(format: string, key: CryptoKey): PromiseLike<JsonWebKey | ArrayBuffer> {\n        return new Promise((resolve, reject) => {\n            throw new WebCryptoError(WebCryptoError.NOT_SUPPORTED);\n        });\n    }\n\n    public static importKey(format: string, keyData: JsonWebKey | BufferSource, algorithm: Algorithm, extractable: boolean, keyUsages: string[]): PromiseLike<CryptoKey> {\n        return new Promise((resolve, reject) => {\n            throw new WebCryptoError(WebCryptoError.NOT_SUPPORTED);\n        });\n    }\n\n    public static wrapKey(format: string, key: CryptoKey, wrappingKey: CryptoKey, wrapAlgorithm: Algorithm): PromiseLike<ArrayBuffer> {\n        return new Promise((resolve, reject) => {\n            throw new WebCryptoError(WebCryptoError.NOT_SUPPORTED);\n        });\n    }\n\n    public static unwrapKey(format: string, wrappedKey: Uint8Array, unwrappingKey: CryptoKey, unwrapAlgorithm: Algorithm, unwrappedKeyAlgorithm: Algorithm, extractable: boolean, keyUsages: string[]): PromiseLike<CryptoKey> {\n        return new Promise((resolve, reject) => {\n            throw new WebCryptoError(WebCryptoError.NOT_SUPPORTED);\n        });\n    }\n\n}\n","export const AlgorithmNames = {\n    RsaSSA: \"RSASSA-PKCS1-v1_5\",\n    RsaPSS: \"RSA-PSS\",\n    RsaOAEP: \"RSA-OAEP\",\n    AesECB: \"AES-ECB\",\n    AesCTR: \"AES-CTR\",\n    AesCMAC: \"AES-CMAC\",\n    AesGCM: \"AES-GCM\",\n    AesCBC: \"AES-CBC\",\n    AesKW: \"AES-KW\",\n    Sha1: \"SHA-1\",\n    Sha256: \"SHA-256\",\n    Sha384: \"SHA-384\",\n    Sha512: \"SHA-512\",\n    EcDSA: \"ECDSA\",\n    EcDH: \"ECDH\",\n    Hmac: \"HMAC\",\n    Pbkdf2: \"PBKDF2\",\n};\n","// Fix btoa and atob for NodeJS\nif (typeof self === \"undefined\") {\n    const g = global as any;\n    g.btoa = (data: string) => new Buffer(data, \"binary\").toString(\"base64\");\n    g.atob = (data: string) => new Buffer(data, \"base64\").toString(\"binary\");\n}\n\nexport class Base64Url {\n\n    public static encode(value: Uint8Array): string {\n        const str = this.buffer2string(value);\n        const res = btoa(str)\n            .replace(/=/g, \"\")\n            .replace(/\\+/g, \"-\")\n            .replace(/\\//g, \"_\");\n        return res;\n    }\n\n    public static decode(base64url: string): Uint8Array {\n        while (base64url.length % 4) {\n            base64url += \"=\";\n        }\n        const base64 = base64url\n            .replace(/\\-/g, \"+\")\n            .replace(/_/g, \"/\");\n        return this.string2buffer(atob(base64));\n    }\n\n    protected static buffer2string(buffer: Uint8Array) {\n        let res = \"\";\n        const len = buffer.length;\n        for (let i = 0; i < len; i++) {\n            res += String.fromCharCode(buffer[i]);\n        }\n        return res;\n    }\n\n    protected static string2buffer(binaryString: string) {\n        const res = new Uint8Array(binaryString.length);\n        const len = binaryString.length;\n        for (let i = 0; i < len; i++) {\n            res[i] = binaryString.charCodeAt(i);\n        }\n        return res;\n    }\n\n}\n","import { AlgorithmNames } from \"../alg\";\nimport { BaseCrypto } from \"../base\";\nimport { AlgorithmError, CryptoKeyError, WebCryptoError } from \"../error\";\n\nclass AesKeyGenParamsError extends AlgorithmError {\n    public code = 7;\n}\n\nexport class Aes extends BaseCrypto {\n\n    public static ALG_NAME = \"\";\n    public static KEY_USAGES: string[] = [];\n\n    public static checkKeyUsages(keyUsages: string[]) {\n        super.checkKeyUsages(keyUsages);\n        const wrongUsage = keyUsages.filter((usage) => this.KEY_USAGES.indexOf(usage) === -1);\n        if (wrongUsage.length) {\n            throw new AlgorithmError(AlgorithmError.WRONG_USAGE, wrongUsage.join(\", \"));\n        }\n    }\n\n    public static checkAlgorithm(alg: Algorithm) {\n        if (alg.name.toUpperCase() !== this.ALG_NAME.toUpperCase()) {\n            throw new AlgorithmError(AlgorithmError.WRONG_ALG_NAME, alg.name, this.ALG_NAME);\n        }\n    }\n\n    public static checkKeyGenParams(alg: AesKeyGenParams) {\n        switch (alg.length) {\n            case 128:\n            case 192:\n            case 256:\n                break;\n            default:\n                throw new AesKeyGenParamsError(AesKeyGenParamsError.PARAM_WRONG_VALUE, \"length\", \"128, 192 or 256\");\n        }\n    }\n\n    public static generateKey(algorithm: AesKeyGenParams, extractable: boolean, keyUsages: string[]): PromiseLike<CryptoKey | CryptoKeyPair> {\n        return new Promise((resolve, reject) => {\n            this.checkAlgorithm(algorithm);\n            this.checkKeyGenParams(algorithm);\n            this.checkKeyUsages(keyUsages);\n            resolve(undefined);\n        });\n    }\n\n    public static exportKey(format: string, key: CryptoKey): PromiseLike<JsonWebKey | ArrayBuffer> {\n        return new Promise((resolve, reject) => {\n            this.checkKey(key, this.ALG_NAME);\n            this.checkFormat(format, key.type);\n            resolve(undefined);\n        });\n    }\n    public static importKey(format: string, keyData: JsonWebKey | Uint8Array, algorithm: Algorithm, extractable: boolean, keyUsages: string[]): PromiseLike<CryptoKey> {\n        return new Promise((resolve, reject) => {\n            this.checkAlgorithm(algorithm);\n            this.checkFormat(format);\n            if (!(format.toLowerCase() === \"raw\" || format.toLowerCase() === \"jwk\")) {\n                throw new CryptoKeyError(CryptoKeyError.ALLOWED_FORMAT, format, \"'jwk' or 'raw'\");\n            }\n            this.checkKeyUsages(keyUsages);\n            resolve(undefined);\n        });\n    }\n}\n\nexport class AesAlgorithmError extends AlgorithmError {\n    public code = 8;\n}\n\nexport class AesWrapKey extends Aes {\n\n    public static wrapKey(format: string, key: CryptoKey, wrappingKey: CryptoKey, wrapAlgorithm: Algorithm): PromiseLike<ArrayBuffer> {\n        return new Promise((resolve, reject) => {\n            this.checkAlgorithmParams(wrapAlgorithm);\n            this.checkKey(wrappingKey, this.ALG_NAME, \"secret\", \"wrapKey\");\n            this.checkWrappedKey(key);\n            this.checkFormat(format, key.type);\n            resolve(undefined);\n        });\n    }\n\n    public static unwrapKey(format: string, wrappedKey: Uint8Array, unwrappingKey: CryptoKey, unwrapAlgorithm: Algorithm, unwrappedKeyAlgorithm: Algorithm, extractable: boolean, keyUsages: string[]): PromiseLike<CryptoKey> {\n        return new Promise((resolve, reject) => {\n            this.checkAlgorithmParams(unwrapAlgorithm);\n            this.checkKey(unwrappingKey, this.ALG_NAME, \"secret\", \"unwrapKey\");\n            this.checkFormat(format);\n            // TODO check unwrappedKeyAlgorithm\n            // TODO check keyUSages\n            resolve(undefined);\n        });\n    }\n\n}\n\nexport class AesEncrypt extends AesWrapKey {\n\n    public static KEY_USAGES: string[] = [\"encrypt\", \"decrypt\", \"wrapKey\", \"unwrapKey\"];\n\n    public static encrypt(algorithm: Algorithm, key: CryptoKey, data: Uint8Array): PromiseLike<ArrayBuffer> {\n        return new Promise((resolve, reject) => {\n            this.checkAlgorithmParams(algorithm);\n            this.checkKey(key, this.ALG_NAME, \"secret\", \"encrypt\");\n            resolve(undefined);\n        });\n    }\n\n    public static decrypt(algorithm: Algorithm, key: CryptoKey, data: Uint8Array): PromiseLike<ArrayBuffer> {\n        return new Promise((resolve, reject) => {\n            this.checkAlgorithmParams(algorithm);\n            this.checkKey(key, this.ALG_NAME, \"secret\", \"decrypt\");\n            resolve(undefined);\n        });\n    }\n\n}\n\nexport class AesECB extends AesEncrypt {\n    public static ALG_NAME = AlgorithmNames.AesECB;\n}\n\nexport class AesCBC extends AesEncrypt {\n\n    public static ALG_NAME = AlgorithmNames.AesCBC;\n\n    public static checkAlgorithmParams(alg: AesCbcParams) {\n        this.checkAlgorithm(alg);\n        if (!alg.iv) {\n            throw new AesAlgorithmError(AesAlgorithmError.PARAM_REQUIRED, \"iv\");\n        }\n        if (!(ArrayBuffer.isView(alg.iv) || alg.iv instanceof ArrayBuffer)) {\n            throw new AesAlgorithmError(AesAlgorithmError.PARAM_WRONG_TYPE, \"iv\", \"ArrayBufferView or ArrayBuffer\");\n        }\n        if (alg.iv.byteLength !== 16) {\n            throw new AesAlgorithmError(AesAlgorithmError.PARAM_WRONG_VALUE, \"iv\", \"ArrayBufferView or ArrayBuffer with size 16\");\n        }\n    }\n\n}\n\nexport class AesCTR extends AesEncrypt {\n\n    public static ALG_NAME = AlgorithmNames.AesCTR;\n\n    public static checkAlgorithmParams(alg: AesCtrParams) {\n        this.checkAlgorithm(alg);\n        if (!(alg.counter && (ArrayBuffer.isView(alg.counter) || alg.counter instanceof ArrayBuffer))) {\n            throw new AesAlgorithmError(AesAlgorithmError.PARAM_WRONG_TYPE, \"counter\", \"ArrayBufferView or ArrayBuffer\");\n        }\n        if (alg.counter.byteLength !== 16) {\n            throw new AesAlgorithmError(AesAlgorithmError.PARAM_WRONG_VALUE, \"counter\", \"ArrayBufferView or ArrayBuffer with size 16\");\n        }\n        if (!(alg.length > 0 && alg.length <= 128)) {\n            throw new AesAlgorithmError(AesAlgorithmError.PARAM_WRONG_VALUE, \"length\", \"number [1-128]\");\n        }\n    }\n\n}\n\nexport class AesGCM extends AesEncrypt {\n\n    public static ALG_NAME = AlgorithmNames.AesGCM;\n\n    public static checkAlgorithmParams(alg: AesGcmParams) {\n        this.checkAlgorithm(alg);\n        if (alg.additionalData) {\n            if (!(ArrayBuffer.isView(alg.additionalData) || alg.additionalData instanceof ArrayBuffer)) {\n                throw new AesAlgorithmError(AesAlgorithmError.PARAM_WRONG_TYPE, \"additionalData\", \"ArrayBufferView or ArrayBuffer\");\n            }\n        }\n        // If the iv member of normalizedAlgorithm has a length greater than 2^64 - 1 bytes, then throw an OperationError.\n        if (!alg.iv) {\n            throw new AesAlgorithmError(AesAlgorithmError.PARAM_REQUIRED, \"iv\");\n        }\n        if (!(ArrayBuffer.isView(alg.iv) || alg.iv instanceof ArrayBuffer)) {\n            throw new AesAlgorithmError(AesAlgorithmError.PARAM_WRONG_TYPE, \"iv\", \"ArrayBufferView or ArrayBuffer\");\n        }\n        // If the tagLength member of normalizedAlgorithm is not present: Let tagLength be 128.\n        if (alg.tagLength) {\n            // If the tagLength member of normalizedAlgorithm is one of 32, 64, 96, 104, 112, 120 or 128:\n            // Let tagLength be equal to the tagLength member of normalizedAlgorithm\n            const ok = [32, 64, 96, 104, 112, 120, 128].some((tagLength) => {\n                return tagLength === alg.tagLength;\n            });\n            if (!ok) {\n                throw new AesAlgorithmError(AesAlgorithmError.PARAM_WRONG_VALUE, \"tagLength\", \"32, 64, 96, 104, 112, 120 or 128\");\n            }\n        }\n    }\n\n}\n\nexport class AesKW extends AesWrapKey {\n\n    public static ALG_NAME = AlgorithmNames.AesKW;\n    public static KEY_USAGES: string[] = [\"wrapKey\", \"unwrapKey\"];\n\n    public static checkAlgorithmParams(alg: AesGcmParams) {\n        this.checkAlgorithm(alg);\n    }\n\n}\n","import { AlgorithmNames } from \"../alg\";\nimport { BaseCrypto } from \"../base\";\nimport { AlgorithmError } from \"../error\";\n\nexport const ShaAlgorithms = [AlgorithmNames.Sha1, AlgorithmNames.Sha256, AlgorithmNames.Sha384, AlgorithmNames.Sha512].join(\" | \");\n\nexport class Sha extends BaseCrypto {\n\n    public static checkAlgorithm(alg: AlgorithmIdentifier) {\n        let alg2: Algorithm;\n        if (typeof alg === \"string\") {\n            alg2 = { name: alg };\n        } else {\n            alg2 = alg;\n        }\n        super.checkAlgorithm(alg2);\n        switch (alg2.name.toUpperCase()) {\n            case AlgorithmNames.Sha1:\n            case AlgorithmNames.Sha256:\n            case AlgorithmNames.Sha384:\n            case AlgorithmNames.Sha512:\n                break;\n            default:\n                throw new AlgorithmError(AlgorithmError.WRONG_ALG_NAME, alg2.name, ShaAlgorithms);\n        }\n    }\n\n    public static digest(algorithm: Algorithm, data: Uint8Array): PromiseLike<ArrayBuffer> {\n        return new Promise((resolve, reject) => {\n            this.checkAlgorithm(algorithm);\n            resolve(undefined);\n        });\n    }\n}\n","import { AesCBC, AesCTR, AesGCM, AesKW } from \"../aes/crypto\";\nimport { AlgorithmNames } from \"../alg\";\nimport { BaseCrypto } from \"../base\";\nimport { AlgorithmError, CryptoKeyError, WebCryptoError } from \"../error\";\nimport { Sha } from \"../sha/crypto\";\n\nexport class EcKeyGenParamsError extends AlgorithmError {\n    public code = 9;\n}\n\nexport class Ec extends BaseCrypto {\n\n    public static ALG_NAME = \"\";\n    public static KEY_USAGES: string[] = [];\n\n    public static checkAlgorithm(alg: Algorithm) {\n        if (alg.name.toUpperCase() !== this.ALG_NAME.toUpperCase()) {\n            throw new AlgorithmError(AlgorithmError.WRONG_ALG_NAME, alg.name, this.ALG_NAME);\n        }\n    }\n\n    public static checkKeyGenParams(alg: EcKeyGenParams) {\n        const paramNamedCurve = \"namedCurve\";\n        if (!alg.namedCurve) {\n            throw new EcKeyGenParamsError(EcKeyGenParamsError.PARAM_REQUIRED, paramNamedCurve);\n        }\n        if (!(typeof alg.namedCurve === \"string\")) {\n            throw new EcKeyGenParamsError(EcKeyGenParamsError.PARAM_WRONG_TYPE, paramNamedCurve, \"string\");\n        }\n        switch (alg.namedCurve.toUpperCase()) {\n            case \"P-256\":\n            case \"K-256\":\n            case \"P-384\":\n            case \"P-521\":\n            case \"X25519\":\n                break;\n            default:\n                throw new EcKeyGenParamsError(EcKeyGenParamsError.PARAM_WRONG_VALUE, paramNamedCurve, \"K-256, P-256, P-384, P-521 or X25519\");\n        }\n    }\n\n    public static checkKeyGenUsages(keyUsages: string[]) {\n        keyUsages.forEach((usage) => {\n            let i = 0;\n            for (i; i < this.KEY_USAGES.length; i++) {\n                if (this.KEY_USAGES[i].toLowerCase() === usage.toLowerCase()) {\n                    break;\n                }\n            }\n            if (i === this.KEY_USAGES.length) {\n                throw new WebCryptoError(`Unsupported key usage '${usage}'. Should be one of [${this.KEY_USAGES.join(\", \")}]`);\n            }\n        });\n    }\n\n    public static generateKey(algorithm: EcKeyGenParams, extractable: boolean, keyUsages: string[]): PromiseLike<CryptoKey | CryptoKeyPair> {\n        return new Promise((resolve, reject) => {\n            this.checkAlgorithm(algorithm);\n            this.checkKeyGenParams(algorithm);\n            this.checkKeyGenUsages(keyUsages);\n            resolve(undefined);\n        });\n    }\n\n    public static exportKey(format: string, key: CryptoKey): PromiseLike<JsonWebKey | ArrayBuffer> {\n        return new Promise((resolve, reject) => {\n            this.checkKey(key, this.ALG_NAME);\n            if (!(format && format.toLowerCase() === \"raw\" && key.type === \"public\")) {\n                this.checkFormat(format, key.type);\n            }\n            resolve(undefined);\n        });\n    }\n\n    public static importKey(format: string, keyData: JsonWebKey | Uint8Array, algorithm: EcKeyGenParams, extractable: boolean, keyUsages: string[]): PromiseLike<CryptoKey> {\n        return new Promise((resolve, reject) => {\n            this.checkKeyGenParams(algorithm);\n            this.checkFormat(format);\n            this.checkKeyGenUsages(keyUsages);\n            resolve(undefined);\n        });\n    }\n\n}\n\nexport class EcAlgorithmError extends AlgorithmError {\n    public code = 10;\n}\n\nexport class EcDSA extends Ec {\n\n    public static ALG_NAME = AlgorithmNames.EcDSA;\n    public static KEY_USAGES: string[] = [\"sign\", \"verify\", \"deriveKey\", \"deriveBits\"];\n\n    public static checkAlgorithmParams(alg: EcdsaParams) {\n        this.checkAlgorithm(alg);\n        Sha.checkAlgorithm(alg.hash as Algorithm);\n    }\n\n    public static sign(algorithm: EcdsaParams, key: CryptoKey, data: Uint8Array): PromiseLike<ArrayBuffer> {\n        return new Promise((resolve, reject) => {\n            this.checkAlgorithmParams(algorithm);\n            this.checkKey(key, this.ALG_NAME, \"private\", \"sign\");\n            resolve(undefined);\n        });\n    }\n\n    public static verify(algorithm: EcdsaParams, key: CryptoKey, signature: Uint8Array, data: Uint8Array): PromiseLike<boolean> {\n        return new Promise((resolve, reject) => {\n            this.checkAlgorithmParams(algorithm);\n            this.checkKey(key, this.ALG_NAME, \"public\", \"verify\");\n            resolve(undefined);\n        });\n    }\n\n}\n\nexport class EcDH extends Ec {\n\n    public static ALG_NAME = AlgorithmNames.EcDH;\n    public static KEY_USAGES: string[] = [\"deriveKey\", \"deriveBits\"];\n\n    public static checkDeriveParams(algorithm: EcdhKeyDeriveParams) {\n        const paramPublic = \"public\";\n        this.checkAlgorithm(algorithm);\n        if (!algorithm.public) {\n            throw new EcAlgorithmError(EcAlgorithmError.PARAM_REQUIRED, paramPublic);\n        }\n        this.checkKey(algorithm.public, this.ALG_NAME, \"public\");\n    }\n\n    public static deriveBits(algorithm: EcdhKeyDeriveParams, baseKey: CryptoKey, length: number): PromiseLike<ArrayBuffer> {\n        return new Promise((resolve, reject) => {\n            this.checkDeriveParams(algorithm);\n            this.checkKey(baseKey, this.ALG_NAME, \"private\", \"deriveBits\");\n            resolve(undefined);\n        });\n    }\n\n    public static deriveKey(algorithm: EcdhKeyDeriveParams, baseKey: CryptoKey, derivedKeyType: AesDerivedKeyParams, extractable: boolean, keyUsages: string[]): PromiseLike<CryptoKey> {\n        return new Promise((resolve, reject) => {\n            this.checkDeriveParams(algorithm);\n            this.checkKey(baseKey, this.ALG_NAME, \"private\", \"deriveKey\");\n            BaseCrypto.checkAlgorithm(derivedKeyType);\n            switch (derivedKeyType.name.toUpperCase()) {\n                case AlgorithmNames.AesCBC:\n                    AesCBC.checkKeyGenParams(derivedKeyType);\n                    break;\n                case AlgorithmNames.AesCTR:\n                    AesCTR.checkKeyGenParams(derivedKeyType);\n                    break;\n                case AlgorithmNames.AesGCM:\n                    AesGCM.checkKeyGenParams(derivedKeyType);\n                    break;\n                case AlgorithmNames.AesKW:\n                    AesKW.checkKeyGenParams(derivedKeyType);\n                    break;\n                default:\n                    throw new EcAlgorithmError(`Unsupported name '${derivedKeyType.name}' for algorithm in param 'derivedKeyType'`);\n            }\n            resolve(undefined);\n        });\n    }\n}\n","import { AlgorithmNames } from \"../alg\";\nimport { BaseCrypto } from \"../base\";\nimport { AlgorithmError, CryptoKeyError, WebCryptoError } from \"../error\";\n\nexport class Hmac extends BaseCrypto {\n\n    public static ALG_NAME = AlgorithmNames.Hmac;\n    public static KEY_USAGES: string[] = [\"sign\", \"verify\"];\n\n    public static checkAlgorithm(alg: Algorithm) {\n        if (alg.name.toUpperCase() !== this.ALG_NAME.toUpperCase()) {\n            throw new AlgorithmError(AlgorithmError.WRONG_ALG_NAME, alg.name, this.ALG_NAME);\n        }\n    }\n\n    public static checkKeyGenParams(alg: AesKeyGenParams) {\n        // length is optional\n        if (\"length\" in alg && !(alg.length > 0 && alg.length <= 512)) {\n            throw new AlgorithmError(AlgorithmError.PARAM_WRONG_VALUE, \"length\", \"more 0 and less than 512\");\n        }\n    }\n\n    public static checkKeyGenUsages(keyUsages: string[]) {\n        this.checkKeyUsages(keyUsages);\n\n        keyUsages.forEach((usage) => {\n            let i = 0;\n            for (i; i < this.KEY_USAGES.length; i++) {\n                if (this.KEY_USAGES[i].toLowerCase() === usage.toLowerCase()) {\n                    break;\n                }\n            }\n            if (i === this.KEY_USAGES.length) {\n                throw new WebCryptoError(`Unsupported key usage '${usage}'. Should be one of [${this.KEY_USAGES.join(\", \")}]`);\n            }\n        });\n\n    }\n\n    public static generateKey(algorithm: AesKeyGenParams, extractable: boolean, keyUsages: string[]): PromiseLike<CryptoKey | CryptoKeyPair> {\n        return new Promise((resolve, reject) => {\n            this.checkAlgorithm(algorithm);\n            this.checkKeyGenParams(algorithm);\n            this.checkKeyGenUsages(keyUsages);\n            resolve(undefined);\n        });\n    }\n\n    public static exportKey(format: string, key: CryptoKey): PromiseLike<JsonWebKey | ArrayBuffer> {\n        return new Promise((resolve, reject) => {\n            this.checkKey(key, this.ALG_NAME);\n            this.checkFormat(format, key.type);\n            resolve(undefined);\n        });\n    }\n\n    public static importKey(format: string, keyData: JsonWebKey | Uint8Array, algorithm: Algorithm, extractable: boolean, keyUsages: string[]): PromiseLike<CryptoKey> {\n        return new Promise((resolve, reject) => {\n            this.checkAlgorithm(algorithm);\n            this.checkFormat(format);\n            if (!(format.toLowerCase() === \"raw\" || format.toLowerCase() === \"jwk\")) {\n                throw new CryptoKeyError(CryptoKeyError.ALLOWED_FORMAT, format, \"'jwk' or 'raw'\");\n            }\n            this.checkKeyGenUsages(keyUsages);\n            resolve(undefined);\n        });\n    }\n\n    public static sign(algorithm: Algorithm, key: CryptoKey, data: Uint8Array): PromiseLike<ArrayBuffer> {\n        return new Promise((resolve, reject) => {\n            this.checkAlgorithmParams(algorithm);\n            this.checkKey(key, this.ALG_NAME, \"secret\", \"sign\");\n            resolve(undefined);\n        });\n    }\n\n    public static verify(algorithm: Algorithm, key: CryptoKey, signature: Uint8Array, data: Uint8Array): PromiseLike<boolean> {\n        return new Promise((resolve, reject) => {\n            this.checkAlgorithmParams(algorithm);\n            this.checkKey(key, this.ALG_NAME, \"secret\", \"verify\");\n            resolve(undefined);\n        });\n    }\n\n}\n","import * as Aes from \"../aes/crypto\";\nimport { AlgorithmNames } from \"../alg\";\nimport { BaseCrypto, PrepareAlgorithm } from \"../base\";\nimport { AlgorithmError, CryptoKeyError, WebCryptoError } from \"../error\";\nimport { Hmac } from \"../hmac/crypto\";\nimport { Sha } from \"../sha/crypto\";\n\nexport class Pbkdf2 extends BaseCrypto {\n\n    public static ALG_NAME = AlgorithmNames.Pbkdf2;\n    public static KEY_USAGES: string[] = [\"deriveKey\", \"deriveBits\"];\n\n    public static checkAlgorithm(alg: Algorithm) {\n        if (alg.name.toUpperCase() !== this.ALG_NAME.toUpperCase()) {\n            throw new AlgorithmError(AlgorithmError.WRONG_ALG_NAME, alg.name, this.ALG_NAME);\n        }\n    }\n\n    public static checkDeriveParams(alg: Pbkdf2Params) {\n        this.checkAlgorithm(alg);\n\n        // salt\n        if (alg.salt) {\n            if (!(ArrayBuffer.isView(alg.salt) || alg.salt instanceof ArrayBuffer)) {\n                throw new AlgorithmError(AlgorithmError.PARAM_WRONG_TYPE, \"salt\", \"ArrayBuffer or ArrayBufferView\");\n            }\n        } else {\n            throw new AlgorithmError(AlgorithmError.PARAM_REQUIRED, \"salt\");\n        }\n\n        // iterations\n        if (!alg.iterations) {\n            throw new AlgorithmError(AlgorithmError.PARAM_REQUIRED, \"iterations\");\n        }\n\n        // hash\n        if (!alg.hash) {\n            throw new AlgorithmError(AlgorithmError.PARAM_REQUIRED, \"hash\");\n        }\n        const hash = PrepareAlgorithm(alg.hash);\n        Sha.checkAlgorithm(hash);\n    }\n\n    public static importKey(format: string, keyData: JsonWebKey | BufferSource, algorithm: string | RsaHashedImportParams | EcKeyImportParams | HmacImportParams | DhImportKeyParams, extractable: boolean, keyUsages: string[]): PromiseLike<CryptoKey> {\n        return Promise.resolve()\n            .then(() => {\n                if (extractable) {\n                    throw new WebCryptoError(\"KDF keys must set extractable=false\");\n                }\n                this.checkAlgorithm(algorithm as Algorithm);\n                this.checkFormat(format);\n                if (format.toLowerCase() !== \"raw\") {\n                    throw new CryptoKeyError(CryptoKeyError.ALLOWED_FORMAT, format, \"'raw'\");\n                }\n                this.checkKeyUsages(keyUsages);\n            }) as any;\n    }\n\n    public static deriveKey(algorithm: Pbkdf2Params, baseKey: CryptoKey, derivedKeyType: Algorithm, extractable: boolean, keyUsages: string[]): PromiseLike<CryptoKey> {\n        return Promise.resolve()\n            .then(() => {\n                this.checkDeriveParams(algorithm);\n                this.checkKey(baseKey, this.ALG_NAME, \"secret\", \"deriveKey\");\n                BaseCrypto.checkAlgorithm(derivedKeyType);\n                // AES-CTR, AES-CBC, AES-CMAC, AES-GCM, AES-CFB, AES-KW, ECDH, DH, or HMAC\n                switch (derivedKeyType.name.toUpperCase()) {\n                    case AlgorithmNames.AesCBC:\n                        Aes.AesCBC.checkKeyGenParams(derivedKeyType as AesDerivedKeyParams);\n                        Aes.AesCBC.checkKeyUsages(keyUsages);\n                        break;\n                    case AlgorithmNames.AesCTR:\n                        Aes.AesCTR.checkKeyGenParams(derivedKeyType as AesDerivedKeyParams);\n                        Aes.AesCTR.checkKeyUsages(keyUsages);\n                        break;\n                    case AlgorithmNames.AesGCM:\n                        Aes.AesGCM.checkKeyGenParams(derivedKeyType as AesDerivedKeyParams);\n                        Aes.AesGCM.checkKeyUsages(keyUsages);\n                        break;\n                    case AlgorithmNames.AesKW:\n                        Aes.AesKW.checkKeyGenParams(derivedKeyType as AesDerivedKeyParams);\n                        Aes.AesKW.checkKeyUsages(keyUsages);\n                        break;\n                    case AlgorithmNames.Hmac:\n                        Hmac.checkKeyGenParams(derivedKeyType as any);\n                        Hmac.checkKeyUsages(keyUsages);\n                        break;\n                    default:\n                        throw new AlgorithmError(AlgorithmError.UNSUPPORTED_ALGORITHM, derivedKeyType);\n                }\n            }) as any;\n    }\n\n    public static deriveBits(algorithm: Pbkdf2Params, baseKey: CryptoKey, length: number): PromiseLike<ArrayBuffer> {\n        return Promise.resolve()\n            .then(() => {\n                this.checkDeriveParams(algorithm);\n                this.checkKey(baseKey, this.ALG_NAME, \"secret\", \"deriveBits\");\n                if (!(length && typeof length === \"number\")) {\n                    throw new WebCryptoError(\"Parameter 'length' must be Number and more than 0\");\n                }\n            }) as any;\n    }\n}\n","import { AlgorithmNames } from \"../alg\";\nimport { BaseCrypto } from \"../base\";\nimport { AlgorithmError, CryptoKeyError, WebCryptoError } from \"../error\";\nimport { Sha, ShaAlgorithms } from \"../sha/crypto\";\n\nexport class RsaKeyGenParamsError extends AlgorithmError {\n    public code = 2;\n}\n\nexport class RsaHashedImportParamsError extends AlgorithmError {\n    public code = 6;\n}\n\nexport class Rsa extends BaseCrypto {\n\n    public static ALG_NAME = \"\";\n    public static KEY_USAGES: string[] = [];\n\n    public static checkAlgorithm(alg: Algorithm) {\n        if (alg.name.toUpperCase() !== this.ALG_NAME.toUpperCase()) {\n            throw new AlgorithmError(AlgorithmError.WRONG_ALG_NAME, alg.name, this.ALG_NAME);\n        }\n    }\n\n    public static checkImportAlgorithm(alg: RsaHashedImportParams) {\n        /**\n         * Check alg name. Use the same way as Chrome uses.\n         * It throws error if algorithm doesn't have a `name` paramter\n         * But it's not a equal to W3 specification\n         * https://www.w3.org/TR/WebCryptoAPI/#dfn-RsaHashedImportParams\n         *\n         */\n        this.checkAlgorithm(alg as any);\n        if (!alg.hash) {\n            throw new RsaHashedImportParamsError(RsaHashedImportParamsError.PARAM_REQUIRED, \"hash\");\n        }\n        Sha.checkAlgorithm(alg.hash as Algorithm);\n    }\n\n    public static checkKeyGenParams(alg: RsaHashedKeyGenParams) {\n        // modulusLength\n        const modulusBits = alg.modulusLength;\n        if (!(modulusBits >= 256 && modulusBits <= 16384 && !(modulusBits % 8))) {\n            throw new RsaKeyGenParamsError(RsaKeyGenParamsError.PARAM_WRONG_VALUE, \"modulusLength\", \" a multiple of 8 bits and >= 256 and <= 16384\");\n        }\n        // publicExponent\n        const pubExp = alg.publicExponent;\n        if (!pubExp) {\n            throw new RsaKeyGenParamsError(RsaKeyGenParamsError.PARAM_REQUIRED, \"publicExponent\");\n        }\n        if (!ArrayBuffer.isView(pubExp)) {\n            throw new RsaKeyGenParamsError(RsaKeyGenParamsError.PARAM_WRONG_TYPE, \"publicExponent\", \"ArrayBufferView\");\n        }\n        if (!(pubExp[0] === 3 || (pubExp[0] === 1 && pubExp[1] === 0 && pubExp[2] === 1))) {\n            throw new RsaKeyGenParamsError(RsaKeyGenParamsError.PARAM_WRONG_VALUE, \"publicExponent\", \"Uint8Array([3]) | Uint8Array([1, 0, 1])\");\n        }\n        // hash\n        if (!alg.hash) {\n            throw new RsaKeyGenParamsError(RsaKeyGenParamsError.PARAM_REQUIRED, \"hash\", ShaAlgorithms);\n        }\n        Sha.checkAlgorithm(alg.hash as Algorithm);\n    }\n\n    public static checkKeyGenUsages(keyUsages: string[]) {\n        this.checkKeyUsages(keyUsages);\n        keyUsages.forEach((usage) => {\n            let i = 0;\n            for (i; i < this.KEY_USAGES.length; i++) {\n                if (this.KEY_USAGES[i].toLowerCase() === usage.toLowerCase()) {\n                    break;\n                }\n            }\n            if (i === this.KEY_USAGES.length) {\n                throw new WebCryptoError(`Unsupported key usage '${usage}'. Should be one of [${this.KEY_USAGES.join(\", \")}]`);\n            }\n        });\n    }\n\n    public static generateKey(algorithm: RsaHashedKeyGenParams, extractable: boolean, keyUsages: string[]): PromiseLike<CryptoKey | CryptoKeyPair> {\n        return new Promise((resolve, reject) => {\n            this.checkAlgorithm(algorithm);\n            this.checkKeyGenParams(algorithm);\n            this.checkKeyGenUsages(keyUsages);\n            resolve(undefined);\n        });\n    }\n\n    public static exportKey(format: string, key: CryptoKey): PromiseLike<JsonWebKey | ArrayBuffer> {\n        return new Promise((resolve, reject) => {\n            this.checkKey(key, this.ALG_NAME);\n            this.checkFormat(format, key.type);\n            resolve(undefined);\n        });\n    }\n\n    public static importKey(format: string, keyData: JsonWebKey | BufferSource, algorithm: string | RsaHashedImportParams | EcKeyImportParams | HmacImportParams | DhImportKeyParams, extractable: boolean, keyUsages: string[]): PromiseLike<CryptoKey> {\n        return new Promise((resolve, reject) => {\n            this.checkImportAlgorithm(algorithm as RsaHashedImportParams);\n            this.checkFormat(format);\n            if (format.toLowerCase() === \"raw\") {\n                throw new CryptoKeyError(CryptoKeyError.ALLOWED_FORMAT, format, \"'JsonWebKey', 'pkcs8' or 'spki'\");\n            }\n            this.checkKeyGenUsages(keyUsages);\n            resolve(undefined);\n        });\n    }\n\n}\n\nexport class RsaSSA extends Rsa {\n\n    public static ALG_NAME = AlgorithmNames.RsaSSA;\n    public static KEY_USAGES: string[] = [\"sign\", \"verify\"];\n\n    public static sign(algorithm: Algorithm, key: CryptoKey, data: Uint8Array): PromiseLike<ArrayBuffer> {\n        return new Promise((resolve, reject) => {\n            this.checkAlgorithmParams(algorithm);\n            this.checkKey(key, this.ALG_NAME, \"private\", \"sign\");\n            resolve(undefined);\n        });\n    }\n\n    public static verify(algorithm: Algorithm, key: CryptoKey, signature: Uint8Array, data: Uint8Array): PromiseLike<boolean> {\n        return new Promise((resolve, reject) => {\n            this.checkAlgorithmParams(algorithm);\n            this.checkKey(key, this.ALG_NAME, \"public\", \"verify\");\n            resolve(undefined);\n        });\n    }\n\n}\n\nexport class RsaPSSParamsError extends AlgorithmError {\n    public code = 4;\n}\n\nexport class RsaPSS extends RsaSSA {\n\n    public static ALG_NAME = AlgorithmNames.RsaPSS;\n\n    public static checkAlgorithmParams(algorithm: Algorithm) {\n        const alg: RsaPssParams = algorithm as any;\n        super.checkAlgorithmParams(alg as any);\n        if (!alg.saltLength) {\n            throw new RsaPSSParamsError(RsaPSSParamsError.PARAM_REQUIRED, \"saltLength\");\n        }\n        if (alg.saltLength < 0) {\n            throw new RsaPSSParamsError(\"Parameter 'saltLength' is outside of numeric range\");\n        }\n    }\n}\n\nexport class RsaOAEPParamsError extends AlgorithmError {\n    public code = 5;\n}\n\nexport class RsaOAEP extends Rsa {\n\n    public static ALG_NAME = AlgorithmNames.RsaOAEP;\n    public static KEY_USAGES: string[] = [\"encrypt\", \"decrypt\", \"wrapKey\", \"unwrapKey\"];\n\n    public static checkAlgorithmParams(alg: RsaOaepParams) {\n        if (alg.label) {\n            if (!(ArrayBuffer.isView(alg.label) || alg.label instanceof ArrayBuffer)) {\n                throw new RsaOAEPParamsError(RsaOAEPParamsError.PARAM_WRONG_TYPE, \"label\", \"ArrayBufferView or ArrayBuffer\");\n            }\n        }\n    }\n\n    public static encrypt(algorithm: RsaOaepParams, key: CryptoKey, data: Uint8Array): PromiseLike<ArrayBuffer> {\n        return new Promise((resolve, reject) => {\n            this.checkAlgorithmParams(algorithm);\n            this.checkKey(key, this.ALG_NAME, \"public\", \"encrypt\");\n            resolve(undefined);\n        });\n    }\n\n    public static decrypt(algorithm: RsaOaepParams, key: CryptoKey, data: Uint8Array): PromiseLike<ArrayBuffer> {\n        return new Promise((resolve, reject) => {\n            this.checkAlgorithmParams(algorithm);\n            this.checkKey(key, this.ALG_NAME, \"private\", \"decrypt\");\n            resolve(undefined);\n        });\n    }\n\n    public static wrapKey(format: string, key: CryptoKey, wrappingKey: CryptoKey, wrapAlgorithm: RsaOaepParams): PromiseLike<ArrayBuffer> {\n        return new Promise((resolve, reject) => {\n            this.checkAlgorithmParams(wrapAlgorithm);\n            this.checkKey(wrappingKey, this.ALG_NAME, \"public\", \"wrapKey\");\n            this.checkWrappedKey(key);\n            this.checkFormat(format, key.type);\n            resolve(undefined);\n        });\n    }\n\n    public static unwrapKey(format: string, wrappedKey: Uint8Array, unwrappingKey: CryptoKey, unwrapAlgorithm: RsaOaepParams, unwrappedKeyAlgorithm: Algorithm, extractable: boolean, keyUsages: string[]): PromiseLike<CryptoKey> {\n        return new Promise((resolve, reject) => {\n            this.checkAlgorithmParams(unwrapAlgorithm);\n            this.checkKey(unwrappingKey, this.ALG_NAME, \"private\", \"unwrapKey\");\n            this.checkFormat(format);\n            // TODO check unwrappedKeyAlgorithm\n            // TODO check keyUSages\n            resolve(undefined);\n        });\n    }\n\n}\n","import { AlgorithmNames } from \"./alg\";\nimport { BaseCrypto, PrepareAlgorithm, PrepareData } from \"./base\";\nimport { AlgorithmError, CryptoKeyError, WebCryptoError } from \"./error\";\n\nimport { AesCBC, AesCTR, AesECB, AesGCM, AesKW } from \"./aes/crypto\";\nimport { EcDH, EcDSA } from \"./ec/crypto\";\nimport { Hmac } from \"./hmac/crypto\";\nimport { Pbkdf2 } from \"./pbkdf2/crypto\";\nimport { RsaOAEP, RsaPSS, RsaSSA } from \"./rsa/crypto\";\nimport { Sha } from \"./sha/crypto\";\n\nexport class SubtleCrypto implements NativeSubtleCrypto {\n\n    public generateKey(algorithm: string, extractable: boolean, keyUsages: string[]): PromiseLike<CryptoKeyPair | CryptoKey>;\n    public generateKey(algorithm: RsaHashedKeyGenParams | EcKeyGenParams | DhKeyGenParams, extractable: boolean, keyUsages: string[]): PromiseLike<CryptoKeyPair>;\n    public generateKey(algorithm: AesKeyGenParams | HmacKeyGenParams | Pbkdf2Params, extractable: boolean, keyUsages: string[]): PromiseLike<CryptoKey>;\n    public generateKey(algorithm: any, extractable: boolean, keyUsages: string[]): PromiseLike<CryptoKeyPair | CryptoKey> {\n        return new Promise((resolve, reject) => {\n            const alg = PrepareAlgorithm(algorithm);\n            let Class = BaseCrypto;\n            switch (alg.name.toUpperCase()) {\n                case AlgorithmNames.RsaSSA.toUpperCase():\n                    Class = RsaSSA;\n                    break;\n                case AlgorithmNames.RsaOAEP.toUpperCase():\n                    Class = RsaOAEP;\n                    break;\n                case AlgorithmNames.RsaPSS.toUpperCase():\n                    Class = RsaPSS;\n                    break;\n                case AlgorithmNames.AesECB.toUpperCase():\n                    Class = AesECB;\n                    break;\n                case AlgorithmNames.AesCBC.toUpperCase():\n                    Class = AesCBC;\n                    break;\n                case AlgorithmNames.AesCTR.toUpperCase():\n                    Class = AesCTR;\n                    break;\n                case AlgorithmNames.AesGCM.toUpperCase():\n                    Class = AesGCM;\n                    break;\n                case AlgorithmNames.AesKW.toUpperCase():\n                    Class = AesKW;\n                    break;\n                case AlgorithmNames.EcDSA.toUpperCase():\n                    Class = EcDSA;\n                    break;\n                case AlgorithmNames.EcDH.toUpperCase():\n                    Class = EcDH;\n                    break;\n                case AlgorithmNames.Hmac.toUpperCase():\n                    Class = Hmac;\n                    break;\n                default:\n                    throw new AlgorithmError(AlgorithmError.UNSUPPORTED_ALGORITHM, alg.name);\n            }\n            Class.generateKey(alg, extractable, keyUsages).then(resolve, reject);\n        });\n    }\n\n    public digest(algorithm: AlgorithmIdentifier, data: BufferSource): PromiseLike<ArrayBuffer> {\n        return new Promise((resolve, reject) => {\n            const alg = PrepareAlgorithm(algorithm);\n            const buf = PrepareData(data, \"data\");\n            let Class = BaseCrypto;\n            switch (alg.name.toUpperCase()) {\n                case AlgorithmNames.Sha1.toUpperCase():\n                case AlgorithmNames.Sha256.toUpperCase():\n                case AlgorithmNames.Sha384.toUpperCase():\n                case AlgorithmNames.Sha512.toUpperCase():\n                    Class = Sha;\n                    break;\n                default:\n                    throw new AlgorithmError(AlgorithmError.UNSUPPORTED_ALGORITHM, alg.name);\n            }\n            Class.digest(alg, buf).then(resolve, reject);\n        });\n\n    }\n\n    public sign(algorithm: string | RsaPssParams | EcdsaParams | AesCmacParams, key: CryptoKey, data: BufferSource): PromiseLike<ArrayBuffer>;\n    public sign(algorithm: any, key: CryptoKey, data: BufferSource): PromiseLike<ArrayBuffer> {\n        return new Promise((resolve, reject) => {\n            const alg = PrepareAlgorithm(algorithm as any);\n            const buf = PrepareData(data, \"data\");\n            let Class = BaseCrypto;\n            switch (alg.name.toUpperCase()) {\n                case AlgorithmNames.RsaSSA.toUpperCase():\n                    Class = RsaSSA;\n                    break;\n                case AlgorithmNames.RsaPSS.toUpperCase():\n                    Class = RsaPSS;\n                    break;\n                case AlgorithmNames.EcDSA.toUpperCase():\n                    Class = EcDSA;\n                    break;\n                case AlgorithmNames.Hmac.toUpperCase():\n                    Class = Hmac;\n                    break;\n                default:\n                    throw new AlgorithmError(AlgorithmError.UNSUPPORTED_ALGORITHM, alg.name);\n            }\n            Class.sign(alg, key, buf).then(resolve, reject);\n        });\n    }\n\n    public verify(algorithm: string | RsaPssParams | EcdsaParams | AesCmacParams, key: CryptoKey, signature: BufferSource, data: BufferSource): PromiseLike<boolean>;\n    public verify(algorithm: any, key: CryptoKey, signature: BufferSource, data: BufferSource): PromiseLike<boolean> {\n        return new Promise((resolve, reject) => {\n            const alg = PrepareAlgorithm(algorithm as any);\n            const sigBuf = PrepareData(data, \"signature\");\n            const buf = PrepareData(data, \"data\");\n            let Class = BaseCrypto;\n            switch (alg.name.toUpperCase()) {\n                case AlgorithmNames.RsaSSA.toUpperCase():\n                    Class = RsaSSA;\n                    break;\n                case AlgorithmNames.RsaPSS.toUpperCase():\n                    Class = RsaPSS;\n                    break;\n                case AlgorithmNames.EcDSA.toUpperCase():\n                    Class = EcDSA;\n                    break;\n                case AlgorithmNames.Hmac.toUpperCase():\n                    Class = Hmac;\n                    break;\n                default:\n                    throw new AlgorithmError(AlgorithmError.UNSUPPORTED_ALGORITHM, alg.name);\n            }\n            Class.verify(alg, key, sigBuf, buf).then(resolve, reject);\n        });\n    }\n\n    public encrypt(algorithm: string | RsaOaepParams | AesCtrParams | AesCbcParams | AesCmacParams | AesGcmParams | AesCfbParams, key: CryptoKey, data: BufferSource): PromiseLike<ArrayBuffer>;\n    public encrypt(algorithm: any, key: CryptoKey, data: BufferSource): PromiseLike<ArrayBuffer> {\n        return new Promise((resolve, reject) => {\n            const alg = PrepareAlgorithm(algorithm);\n            const buf = PrepareData(data, \"data\");\n            let Class = BaseCrypto;\n            switch (alg.name.toUpperCase()) {\n                case AlgorithmNames.RsaOAEP.toUpperCase():\n                    Class = RsaOAEP;\n                    break;\n                case AlgorithmNames.AesECB.toUpperCase():\n                    Class = AesECB;\n                    break;\n                case AlgorithmNames.AesCBC.toUpperCase():\n                    Class = AesCBC;\n                    break;\n                case AlgorithmNames.AesCTR.toUpperCase():\n                    Class = AesCTR;\n                    break;\n                case AlgorithmNames.AesGCM.toUpperCase():\n                    Class = AesGCM;\n                    break;\n                default:\n                    throw new AlgorithmError(AlgorithmError.UNSUPPORTED_ALGORITHM, alg.name);\n            }\n            Class.encrypt(alg, key, buf).then(resolve, reject);\n        });\n    }\n\n    public decrypt(algorithm: string | RsaOaepParams | AesCtrParams | AesCbcParams | AesCmacParams | AesGcmParams | AesCfbParams, key: CryptoKey, data: BufferSource): PromiseLike<ArrayBuffer>;\n    public decrypt(algorithm: any, key: CryptoKey, data: BufferSource): PromiseLike<ArrayBuffer> {\n        return new Promise((resolve, reject) => {\n            const alg = PrepareAlgorithm(algorithm);\n            const buf = PrepareData(data, \"data\");\n            let Class = BaseCrypto;\n            switch (alg.name.toUpperCase()) {\n                case AlgorithmNames.RsaOAEP.toUpperCase():\n                    Class = RsaOAEP;\n                    break;\n                case AlgorithmNames.AesECB.toUpperCase():\n                    Class = AesECB;\n                    break;\n                case AlgorithmNames.AesCBC.toUpperCase():\n                    Class = AesCBC;\n                    break;\n                case AlgorithmNames.AesCTR.toUpperCase():\n                    Class = AesCTR;\n                    break;\n                case AlgorithmNames.AesGCM.toUpperCase():\n                    Class = AesGCM;\n                    break;\n                default:\n                    throw new AlgorithmError(AlgorithmError.UNSUPPORTED_ALGORITHM, alg.name);\n            }\n            Class.decrypt(alg, key, buf).then(resolve, reject);\n        });\n    }\n\n    public deriveBits(algorithm: string | EcdhKeyDeriveParams | DhKeyDeriveParams | ConcatParams | HkdfCtrParams | Pbkdf2Params, baseKey: CryptoKey, length: number): PromiseLike<ArrayBuffer>;\n    public deriveBits(algorithm: any, baseKey: CryptoKey, length: number): PromiseLike<ArrayBuffer> {\n        return new Promise((resolve, reject) => {\n            const alg = PrepareAlgorithm(algorithm);\n            let Class = BaseCrypto;\n            switch (alg.name.toUpperCase()) {\n                case AlgorithmNames.EcDH.toUpperCase():\n                    Class = EcDH;\n                    break;\n                case AlgorithmNames.Pbkdf2.toUpperCase():\n                    Class = Pbkdf2;\n                    break;\n                default:\n                    throw new AlgorithmError(AlgorithmError.UNSUPPORTED_ALGORITHM, alg.name);\n            }\n            Class.deriveBits(alg, baseKey, length).then(resolve, reject);\n        });\n    }\n\n    public deriveKey(algorithm: string | EcdhKeyDeriveParams | DhKeyDeriveParams | ConcatParams | HkdfCtrParams | Pbkdf2Params, baseKey: CryptoKey, derivedKeyType: string | AesDerivedKeyParams | HmacImportParams | ConcatParams | HkdfCtrParams | Pbkdf2Params, extractable: boolean, keyUsages: string[]): PromiseLike<CryptoKey>;\n    public deriveKey(algorithm: any, baseKey: CryptoKey, derivedKeyType: any, extractable: boolean, keyUsages: string[]): PromiseLike<CryptoKey> {\n        return new Promise((resolve, reject) => {\n            const alg = PrepareAlgorithm(algorithm);\n            const derivedAlg = PrepareAlgorithm(derivedKeyType);\n            let Class = BaseCrypto;\n            switch (alg.name.toUpperCase()) {\n                case AlgorithmNames.EcDH.toUpperCase():\n                    Class = EcDH;\n                    break;\n                case AlgorithmNames.Pbkdf2.toUpperCase():\n                    Class = Pbkdf2;\n                    break;\n                default:\n                    throw new AlgorithmError(AlgorithmError.UNSUPPORTED_ALGORITHM, alg.name);\n            }\n            Class.deriveKey(alg, baseKey, derivedAlg, extractable, keyUsages).then(resolve, reject);\n        });\n    }\n\n    public exportKey(format: \"jwk\", key: CryptoKey): PromiseLike<JsonWebKey>;\n    public exportKey(format: \"raw\" | \"pkcs8\" | \"spki\", key: CryptoKey): PromiseLike<ArrayBuffer>;\n    public exportKey(format: string, key: CryptoKey): PromiseLike<JsonWebKey | ArrayBuffer>;\n    public exportKey(format: string, key: CryptoKey): PromiseLike<JsonWebKey | ArrayBuffer> {\n        return new Promise((resolve, reject) => {\n            BaseCrypto.checkKey(key);\n            if (!key.extractable) {\n                throw new CryptoKeyError(CryptoKeyError.NOT_EXTRACTABLE);\n            }\n            let Class = BaseCrypto;\n            switch (key.algorithm.name!.toUpperCase()) {\n                case AlgorithmNames.RsaSSA.toUpperCase():\n                    Class = RsaSSA;\n                    break;\n                case AlgorithmNames.RsaPSS.toUpperCase():\n                    Class = RsaPSS;\n                    break;\n                case AlgorithmNames.AesECB.toUpperCase():\n                    Class = AesECB;\n                    break;\n                case AlgorithmNames.RsaOAEP.toUpperCase():\n                    Class = RsaOAEP;\n                    break;\n                case AlgorithmNames.AesCBC.toUpperCase():\n                    Class = AesCBC;\n                    break;\n                case AlgorithmNames.AesCTR.toUpperCase():\n                    Class = AesCTR;\n                    break;\n                case AlgorithmNames.AesGCM.toUpperCase():\n                    Class = AesGCM;\n                    break;\n                case AlgorithmNames.AesKW.toUpperCase():\n                    Class = AesKW;\n                    break;\n                case AlgorithmNames.EcDSA.toUpperCase():\n                    Class = EcDSA;\n                    break;\n                case AlgorithmNames.EcDH.toUpperCase():\n                    Class = EcDH;\n                    break;\n                case AlgorithmNames.Hmac.toUpperCase():\n                    Class = Hmac;\n                    break;\n                default:\n                    throw new AlgorithmError(AlgorithmError.UNSUPPORTED_ALGORITHM, key.algorithm.name);\n            }\n            Class.exportKey(format, key).then(resolve, reject);\n        });\n    }\n\n    public importKey(format: \"jwk\", keyData: JsonWebKey, algorithm: string | RsaHashedImportParams | EcKeyImportParams | HmacImportParams | DhImportKeyParams, extractable: boolean, keyUsages: string[]): PromiseLike<CryptoKey>;\n    public importKey(format: \"raw\" | \"pkcs8\" | \"spki\", keyData: BufferSource, algorithm: string | RsaHashedImportParams | EcKeyImportParams | HmacImportParams | DhImportKeyParams, extractable: boolean, keyUsages: string[]): PromiseLike<CryptoKey>;\n    public importKey(format: string, keyData: JsonWebKey | BufferSource, algorithm: string | RsaHashedImportParams | EcKeyImportParams | HmacImportParams | DhImportKeyParams, extractable: boolean, keyUsages: string[]): PromiseLike<CryptoKey>;\n    public importKey(format: string, keyData: JsonWebKey | BufferSource, algorithm: any, extractable: boolean, keyUsages: string[]): PromiseLike<CryptoKey> {\n        return new Promise((resolve, reject) => {\n            const alg = PrepareAlgorithm(algorithm);\n            let Class = BaseCrypto;\n            // TODO prepare keyData\n            switch (alg.name.toUpperCase()) {\n                case AlgorithmNames.RsaSSA.toUpperCase():\n                    Class = RsaSSA;\n                    break;\n                case AlgorithmNames.RsaPSS.toUpperCase():\n                    Class = RsaPSS;\n                    break;\n                case AlgorithmNames.RsaOAEP.toUpperCase():\n                    Class = RsaOAEP;\n                    break;\n                case AlgorithmNames.AesECB.toUpperCase():\n                    Class = AesECB;\n                    break;\n                case AlgorithmNames.AesCBC.toUpperCase():\n                    Class = AesCBC;\n                    break;\n                case AlgorithmNames.AesCTR.toUpperCase():\n                    Class = AesCTR;\n                    break;\n                case AlgorithmNames.AesGCM.toUpperCase():\n                    Class = AesGCM;\n                    break;\n                case AlgorithmNames.AesKW.toUpperCase():\n                    Class = AesKW;\n                    break;\n                case AlgorithmNames.EcDSA.toUpperCase():\n                    Class = EcDSA;\n                    break;\n                case AlgorithmNames.EcDH.toUpperCase():\n                    Class = EcDH;\n                    break;\n                case AlgorithmNames.Hmac.toUpperCase():\n                    Class = Hmac;\n                    break;\n                case AlgorithmNames.Pbkdf2.toUpperCase():\n                    Class = Pbkdf2;\n                    break;\n                default:\n                    throw new AlgorithmError(AlgorithmError.UNSUPPORTED_ALGORITHM, alg.name);\n            }\n            Class.importKey(format, keyData, alg, extractable, keyUsages).then(resolve, reject);\n        });\n    }\n\n    public wrapKey(format: string, key: CryptoKey, wrappingKey: CryptoKey, wrapAlgorithm: AlgorithmIdentifier): PromiseLike<ArrayBuffer> {\n        return new Promise((resolve, reject) => {\n            const alg = PrepareAlgorithm(wrapAlgorithm);\n            let Class = BaseCrypto;\n            switch (alg.name.toUpperCase()) {\n                case AlgorithmNames.RsaOAEP.toUpperCase():\n                    Class = RsaOAEP;\n                    break;\n                case AlgorithmNames.AesECB.toUpperCase():\n                    Class = AesECB;\n                    break;\n                case AlgorithmNames.AesCBC.toUpperCase():\n                    Class = AesCBC;\n                    break;\n                case AlgorithmNames.AesCTR.toUpperCase():\n                    Class = AesCTR;\n                    break;\n                case AlgorithmNames.AesGCM.toUpperCase():\n                    Class = AesGCM;\n                    break;\n                case AlgorithmNames.AesKW.toUpperCase():\n                    Class = AesKW;\n                    break;\n                default:\n                    throw new AlgorithmError(AlgorithmError.UNSUPPORTED_ALGORITHM, alg.name);\n            }\n            Class.wrapKey(format, key, wrappingKey, alg).then(resolve, reject);\n        });\n    }\n\n    public unwrapKey(format: string, wrappedKey: BufferSource, unwrappingKey: CryptoKey, unwrapAlgorithm: AlgorithmIdentifier, unwrappedKeyAlgorithm: AlgorithmIdentifier, extractable: boolean, keyUsages: string[]): PromiseLike<CryptoKey> {\n        return new Promise((resolve, reject) => {\n            const unwrapAlg = PrepareAlgorithm(unwrapAlgorithm);\n            const unwrappedAlg = PrepareAlgorithm(unwrappedKeyAlgorithm);\n            const buf = PrepareData(wrappedKey, \"wrappedKey\");\n            let Class = BaseCrypto;\n            switch (unwrapAlg.name.toUpperCase()) {\n                case AlgorithmNames.RsaOAEP.toUpperCase():\n                    Class = RsaOAEP;\n                    break;\n                case AlgorithmNames.AesECB.toUpperCase():\n                    Class = AesECB;\n                    break;\n                case AlgorithmNames.AesCBC.toUpperCase():\n                    Class = AesCBC;\n                    break;\n                case AlgorithmNames.AesCTR.toUpperCase():\n                    Class = AesCTR;\n                    break;\n                case AlgorithmNames.AesGCM.toUpperCase():\n                    Class = AesGCM;\n                    break;\n                case AlgorithmNames.AesKW.toUpperCase():\n                    Class = AesKW;\n                    break;\n                default:\n                    throw new AlgorithmError(AlgorithmError.UNSUPPORTED_ALGORITHM, unwrapAlg.name);\n            }\n            Class.unwrapKey(format, buf, unwrappingKey, unwrapAlg, unwrappedAlg, extractable, keyUsages).then(resolve, reject);\n        });\n    }\n}\n"],"names":["tslib_1.__extends","Aes.AesCBC","Aes.AesCTR","Aes.AesGCM","Aes.AesKW"],"mappings":"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"}